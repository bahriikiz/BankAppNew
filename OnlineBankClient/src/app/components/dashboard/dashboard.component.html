<div class="container py-4">
  
  <div class="row align-items-center mb-5">
    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
      <h2 class="fw-bold text-dark mb-1">HesaplarÄ±m</h2>
      <p class="text-muted mb-0">TÃ¼m banka varlÄ±klarÄ±nÄ±z tek bir ekranda.</p>
    </div>
    
    <div class="col-md-6 text-md-end d-flex gap-2 justify-content-center justify-content-md-end">
      
      <button class="btn rounded-pill px-4 shadow-sm border-0 d-flex align-items-center" 
        style="background-color: #fdb912; color: #7a0022; font-weight: 800;"
        routerLink="/transfer">
  <i class="bi bi-send-fill me-2"></i> Para GÃ¶nder
</button>

      <button class="btn btn-outline-dark rounded-pill px-4 shadow-sm" 
              (click)="addOtherBankAccount()" 
              [disabled]="isSyncing()">
        @if (isSyncing()) { <span class="spinner-border spinner-border-sm me-2"></span> }
        <i class="bi bi-bank me-1"></i> FarklÄ± Banka Ekle
      </button>

      <button class="btn text-white rounded-pill px-4 shadow-sm border-0 d-flex align-items-center" 
              style="background-color: #A90432;"
              routerLink="/create-account">
        <i class="bi bi-plus-lg me-1"></i> Yeni Hesap AÃ§
      </button>
    </div>
  </div>

  @if (isLoading()) {
    <div class="text-center py-5">
      <output class="spinner-border" style="color: #A90432;"></output>
      <p class="mt-3 text-muted">VarlÄ±klarÄ±nÄ±z listeleniyor...</p>
    </div>
  } @else {
    
    <div class="row g-4">
      @for (acc of accounts(); track acc.id) {
        <div class="col-md-6 col-lg-4">
          
          <div class="card h-100 border-0 shadow-sm rounded-4 account-card"
               [ngClass]="acc.providerBank === 'VakÄ±fbank' ? 'bg-vakif' : 'bg-ikiz'">
            
            <div class="card-body p-4 text-white">
              
              <div class="d-flex justify-content-between align-items-center mb-4">
                <span class="badge rounded-pill bg-white bg-opacity-25 px-3 py-2">
                  {{ acc.providerBank || 'Ä°KÄ°Z BANK' }}
                </span>
                
                <span class="badge rounded-pill bg-dark bg-opacity-25 px-3 py-2 fs-6 border border-light border-opacity-25">
                  @if (acc.currencyType === 'TRY') { â‚º TRY }
                  @else if (acc.currencyType === 'USD') { $ USD }
                  @else if (acc.currencyType === 'EUR') { â‚¬ EUR }
                  @else if (acc.currencyType === 'XAU') { ðŸ¥‡ XAU }
                  @else { {{ acc.currencyType }} }
                </span>
              </div>

              <div class="mb-4">
                <small class="opacity-75 d-block mb-1 text-uppercase">{{ acc.accountName }}</small>
                <h3 class="fw-bold mb-0">
                  {{ acc.balance | number:'1.2-2' }} <span class="fs-5 fw-light">{{ acc.currencyType }}</span>
                </h3>
              </div>

              <div class="iban-box rounded-3 p-2 mb-3 bg-black bg-opacity-10">
                <small class="font-monospace">TR {{ acc.iban }}</small>
              </div>

              <div class="d-flex justify-content-between align-items-center">
                <small class="opacity-75">No: {{ acc.accountNumber }}</small>
                <button class="btn btn-sm btn-light rounded-pill px-3 fw-medium" 
                        [routerLink]="['/account', acc.id]">
                  Detay
                </button>
              </div>
              
            </div>
          </div>
        </div>
      }

      @if (accounts().length === 0) {
        <div class="col-12 text-center py-5 border border-dashed rounded-4 bg-light">
          <i class="bi bi-wallet2 display-3 text-muted opacity-25"></i>
          <h5 class="mt-3 fw-bold">HenÃ¼z tanÄ±mlÄ± bir hesabÄ±nÄ±z yok.</h5>
          <p class="text-muted">Ä°KÄ°Z BANK veya VakÄ±fbank hesaplarÄ±nÄ±zÄ± ekleyerek dijital bankacÄ±lÄ±ÄŸa baÅŸlayÄ±n.</p>
        </div>
      }
    </div>
    
  }
</div>